<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd"
    objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
  <changeSet id="1" author="jb2">
    <addColumn tableName="JB2_LLM_CALL_LOG">
      <column name="ACTUAL_MODEL_USED" type="VARCHAR(255)"/>
      <column name="COMPLETION_TOKENS" type="INT"/>
      <column name="COST" type="DOUBLE"/>
      <column name="PROMPT_TOKENS" type="INT"/>
      <column name="TOTAL_TOKENS" type="INT"/>
    </addColumn>
  </changeSet>
  <changeSet id="2" author="jb2">
    <dropTable cascadeConstraints="true" tableName="jb2_llm_model"/>
  </changeSet>
  <changeSet id="3" author="jb2">
    <dropColumn columnName="base_url" tableName="jb2_llm_call_log"/>

    <dropColumn columnName="model_id" tableName="jb2_llm_call_log"/>
  </changeSet>
</databaseChangeLog>